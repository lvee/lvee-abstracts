\documentclass[10pt, a5paper]{article}
\input{preamble.tex}

\begin{document}

\title{Обзор Open Build Service}%\footnote{Текст данных и последующих тезисов, кроме специально оговоренных случаев, доступен под лицензией Creative Commons Attribution-ShareAlike 3.0}

\author{Денис Пынькин\footnote{Минск, Беларусь}}
\maketitle

\begin{abstract}
Open Build Service (OBS) --- is an open and complete distribution development platform. It provides the infrastructure to easily create and release open source software for openSUSE and other Linux distributions on different hardware architectures. This article describe the architecture and usage of private OBS instance.
\end{abstract}

\section*{Введение}

Зачастую коммерческие проекты базируются на открытых платформах, таких, как различные дистрибутивы Linux. Это означает, что для обеспечения поддержки своего продукта  вендору часто необходимо самостоятельно заниматься поддержкой открытых проектов, входящих в его продукт.

Даже при условии сокращения количества поддерживаемых пакетов до минимума,  необходимого для работы коммерческого программного обеспечения, инженерам приходится заниматься поддержкой сотен сторонних пакетов и приложений.

Системы автоматической сборки значительно облегчают жизнь разработчикам, вынужденным обеспечивать платформу для разработки как открытого,  так и коммерческого программного обеспечения. Одна из лучших по совокупности параметров и возможностей система автоматической сборки общего назначения --- это Open Build Service, умеющая работать со множеством различных дистрибутивов.

\section*{Архитектура}

Open Build Service можно разделить на серверную часть и клиентскую \cite{Pynkin1}.
OBS поддерживает сборку следующих целей:

\begin{itemize}
  \item rpm/spec;
  \item deb/dsc;
  \item KIWI image.
\end{itemize}

\subsection*{Серверная часть}

Основные задачи, которые решает серверная часть:

\begin{itemize}
  \item обеспечивает доступ к исходному коду приложений;
  \item предоставляет ресурсы для сборки пакетов;
  \item предоставляет инфраструктуру для публикации пакетов;
  \item обеспечивает взаимодействие между разработчиками.
\end{itemize}

В свою очередь OBS-сервер состоит из 2-х частей:

\begin{itemize}
  \item фронтэнд\begin{itemize}
  \item публичный API для различных клиентов;
  \item доступ к исходникам;
  \item доступ к логам и результатам сборки;
  \item доступ к собранным пакетам;
  \item контроль процесса сборки пакетов;
  \item управление пользователями.
\end{itemize}


  \item бакэнд\begin{itemize}
  \item хранилище исходного кода;
  \item сборочная <<ферма>>;
  \item запуск сборки в соответствующем окружении;
  \item репозитории собранных пакетов;
  \item доступ к логам и результатам сборки;
\end{itemize}


\end{itemize}

\subsection*{Клиентская часть}

<<Официально>> поддерживаются 2 клиента: web (входящий в фронтэнд сервера) и утилита \textbf{osc} для работы из командной строки. Кроме того существуют и другие --- например для Android'а или графический клиент, написанный на \textbf{C\#}.

Клиент \textbf{osc} позволяет произвести сборку пакета или дискового образа на локальной машине.

Как для локальной сборки, так и на сборочной <<ферме>> используется одинаковый набор скриптов \textbf{build}, в задачу которого входит связь с сервером, получение необходимых бинарных и/или пакетов с исходным кодом, организация изолированной сборочной среды (поддерживается изоляция с помощью chroot, kvm, xen и др.) и, при необходимости, отправка результата на сервер.

\section*{Проекты}

Проекты --- это организационная еденица в OBS, представляющая собой единую площадку с общими правилами сборки для всех пакетов.

Проект включает в себя:

\begin{itemize}
  \item конфигурацию проекта, включая макросы и определения используемые в сборочной среде;
  \item пакеты --- исходный код и правила сборки программного обеспечения и/или дискового образа;
  \item сборочные цели --- дистрибутивы, на базе которых OBS будет пытаться собрать пакеты,  входящие в проект.
\end{itemize}

\section*{Частный OBS-сервер}

Для организации частной сборочной системы рекомендуется \cite{Pynkin2} использовать специально подготовленные образы, доступные по адресу \url{http://download.opensuse.org/repositories/openSUSE:/Tools/images/}.

После установки, такой частный сборочный сервер можно использовать в одном из двух режимов: с подключением к оригинальному сервису и в изолированном режиме.

При использовании подключения к оригинальному сервису, появляется возможность использовать любые проекты, представленные на \url{https://build.opensuse.org/} в качестве базы для cвоих разработок. Такой режим наилучшим образом подходит для организации открытых проектов.

Для коммерческой разработки организация полностью автономной и независимой системы сборки программного обеспечения является обязательным требованием. Для таких проектов наилучшим образом подойдет изолированный режим работы. В отличие от предыдущей модели, здесь придется не только организовывать саму систему сборки, но и самостоятельно создавать 
и <<базовую>> часть \cite{Pynkin3} --- фактически организовывать полную либо частичную пересборку дистрибутива.


\begin{thebibliography}{9}

\bibitem{Pynkin1} Overview about the idea of the Build Service and its architecture.
\url{http://en.opensuse.org/images/8/8e/FOSDEM Build Service.pdf}

\bibitem{Pynkin2} Build Service private installation \url{http://en.opensuse.org/openSUSE:Build Service private installation}

\bibitem{Pynkin3} Build Service private instance boot strapping.
\url{http://en.opensuse.org/openSUSE:Build Service private instance boot strapping}

\end{thebibliography}

\end{document}




