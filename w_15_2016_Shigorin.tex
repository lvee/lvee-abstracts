\documentclass[10pt, a5paper]{article}
\input{preamble.tex}
\begin{document}
\title{Альт на <<Эльбрусе>>\footnote{\url{mike@altlinux.org}, \url{http://lvee.org/ru/abstracts/180}}}
\author{Михаил Шигорин, Москва, Россия}
\maketitle
\begin{abstract}
As soon as we've got a shell on Elbrus processor we wanted to port our RPM there; upon that, it was only natural to want hasher working too. The availability of a physical system didn't hurt at all.
\end{abstract}
Эльбрус "--- два семейства процессоров разработки российской компании МЦСТ: SPARC-совместимая ветка и оригинальная VLIW-архитектура. Речь пойдёт о второй. Особенностями платформы в настоящее время являются малодоступность (вследствие в т.ч. применения, например, в системах ПРО) и закрытость системного компилятора (вероятно, по тем же причинам). Используем рабочую станцию <<Эльбрус-401>>, которая автором доклада найдена вполне симпатичной на ощупь (подробнее в кулуарах). Работающая на ней хост-система "--- Linux (точнее, ОС <<Эльбрус>>, во многом близкая к Debian 5.0/7.0 и местами новее).

Я работаю в компании <<Базальт СПО>>, которая участвует в разработке репозитория ALT Linux Sisyphus. Как только у нас появился доступ на машину с процессором <<Эльбрус-4С>>, возникло вполне естественное желание портировать туда нашу пакетную базу. Первым этапом стало портирование пакетного менеджера (RPM версии ALT Linux, он же ALT-RPM). Когда заработал rpm, следующим этапом стал запуск hasher "--- инструмента, с помощью которого собираются пакеты Sisyphus (hasher спроектирован так, чтобы не допускать влияния собираемого пакета на хост-систему, а также взаимного влияния собирающихся пакетов).

Текущая работа опирается на труды многих других людей "---  начальное портирование RPM было выполнено glebfm@, процедуру бутстрапа альта ранее описал kas@ по мотивам ARM-порта, а код поддержки архитектуры мы получили от сотрудников МЦСТ.

На время написания тезисов доступна базовая сборочная среда ALT для сборки в автоматически создаваемом силами hasher чруте, за исключением архитектурнозависимых пакетов (binutils, glibc, компилятор), которые пока alien'изированы из предоставленных разработчиком системы deb-пакетов "---  примерно 230 исходных пакетов.

Основные пройденные стадии сборки:

\begin{enumerate}
  \item сборка/установка rpm вручную в хост-окружении;
  \item упаковывание всего, что попадает в hasher chroot;
  \item пересборка собранных пакетов уже в hasher.
\end{enumerate}

Производится итеративная пересборка с откручиванием гаек вроде "--- disable static "--- without-ssl и корректировка полученной начальной пакетной базы для возможности включения её в основной разработческий репозиторий ALT Linux Sisyphus.

В целом, работа позволила оценить достоинства и недостатки:

\begin{itemize}
  \item e2k как целевой платформы;
  \item ALT Linux как портабельного репозитория и набора инструментария;
  \item <<бутстрапа напролом>> и <<раннепакетного>>.
\end{itemize}

\begin{thebibliography}{99}
  \bibitem{Ghigorin1} \url{http://altlinux.org/bootstrap}
  \bibitem{Ghigorin2} \url{http://altlinux.org/ports}
  \bibitem{Ghigorin3} \url{http://altlinux.org/hasher}
  \bibitem{Ghigorin4} \url{http://sdelanounas.ru/blogs/71419/}
\end{thebibliography}

\end{document}
