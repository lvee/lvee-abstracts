\documentclass[10pt, a5paper]{article}
\input{preamble.tex}
\begin{document}
\title{Cистема распределенного выполнения задач paexec }
\author{Алексей Чеусов\\
\small Минск, Беларусь}
\def\progref!#1!{\texttt{#1}}

\maketitle

\begin{abstract}paexec distributes tasks across several CPUs or machines in a
network and collects results from those CPUs/machines. paexec runs
several instances of ``calculator'' on remote/local machines and sends
them tasks one by one recieving results from them. ``tasks'' given on
input may be either a list of independent tasks or a dependency
graph. ``transport'' is any rsh/ssh-like program. Cool features:
resistance to network failures, minimization of total calculation
time.
\end{abstract}

В последнее время все большее распространение получают компьютерные
системы оснащенные большим количеством процессоров или ядер.  В
настоящее время многоядерными процессорами комплектуются не только
мощные сервера и рабочие станции, но также ноутбуки, нетбуки и
даже мобильные телефоны и планшеты. В связи с этим часто возникает
задача распараллеливания выполнения задач с использованием всех
имеющихся вычислительных ресурсов. Та же проблема возникает при
использовании кластера компьютеров, объединенных в вычислительную
сеть. Задача не нова, и для ее решения имеется масса инструментов,
таких, например, как MPI, стандартный API (реализован в библиотеках
openmpi, mpich и др.), широко применяемый математиками для расчетов на
супер-ЭВМ и кластерах.  Тем не менее, существующие инструменты не
лишены недостатков.  В силу лицензионных ограничений далеко не всегда
имеющиеся инструменты можно легально использовать в коммерческих
целях, часто они имеют весьма специфическую область применения и
неудобны для решения простых пользовательских задач, существующие
инструменты порой слишком требовательны к количеству оперативной
памяти и дискового пространства, а то и просто ограничены конкретной
программно-аппаратной архитектурой.

Задача, ставшая в свое время перед автором --- обработка больших
массивов информации, а позднее обработка дерева задач, с
использованием нескольких компьютеров различной аппаратной
архитектуры. При этом <<задача>> в моем случае решалась автономной
программой, написанной с применением различных языков
программирования. Не найдя готового решения, подходящего для моего
случая, я разработал программный пакет paexec с открытым исходным
кодом (лицензия MIT), и разместил его в сети Интернет для публичного
доступа.

Домашняя страница проекта: \url{http://paexec.sf.net/}.

\section*{Как это работает}
В программный пакет paexec входят на данный момент
две программы, главная из которых -- paexec(1), собственно инструмент для
распараллеливания, получающий в качестве аргументов
\begin{enumerate}
\item \emph{задачи} для выполнения. Каждая отдельная задача --- это
   произвольная текстовая строка, не содержащая пробелов. Это может
   быть, например, имя файла, формула для вычисления и
   т.п. Совокупность же задач может представлять собой множество
   независимых задач, то есть задач, которые могут выполняться
   параллельно, либо орграф, узлами в котором являются задачи, а ребро
   $(A, B)$ означает: <<для выполнения задачи $B$ необходимо сначала
   выполнить задачу $A$; если задача $A$ по каким-либо причинам не смогла
   быть выполнена, пометить задачу $B$ и все другие задачи, зависящие от
   A как невыполненные>>. В целях задания порядка выполнения задач,
   каждой их них можно поставить в соответствии некоторый вес,
   определяющий, в какой момент лучше начать ее обработку. Реализовано
   несколько механизмов учета данных весов. В качестве веса можно,
   например, выбрать приблизительное время выполнения задачи или ее
   важность.
\item \emph{список узлов}, на которых, будут производится вычисления, узлами
   могут быть, например, имена компьютеров в сети или номера процессоров,
   адреса chroot пространств на UNIX"=системе и т.д.
\item \emph{вычислитель}. Это программа, принимающая на вход задачу для
   вычисления и печатающая на стандартный поток вывода результаты в
   определенном формате.
\item \emph{транспорт}, задающий способ связи с узлами, им могут быть такие
   программы как rsh, ssh или любые другие с совместимым способом
   использования. В случае, если транспорт не указан, \emph{вычислители}
   будут запущены локально указанное число раз.
\end{enumerate}

На стандартный поток вывода \progref!paexec(1)! выдает результат обработки задач
вычислителями (последовательность текстовых \linebreak строк) в порядке их
поступления от вычислительных узлов (sliced output). Вторая программа,
входящая в комплект --- \progref!paexec\_re\-order(1)!, она предназначена для
пересортировки выходного потока \progref!paexec(1)!.

Важно отметить, что \progref!paexec(1)! устойчив к сбоям в сети, а это значит,
может использоваться даже в сетях с неустойчивой связью, таких,
например, как Интернет. Устойчивость заключается в том, что в случае
потери связи с узлом, переданная ему на выполнение задача
перераспределится на другой свободный узел в момент его появления.
Периодически происходит попытка восстановления связи с узлами, связь с
которыми была потеряна.

\section*{Success stories}
На базе программного пакета paexec разработана
распределенная система сборки программных пакетов pkgsrc
(pkgtools/dist\-bb), успешно применяемая в течение многих лет на таких
операционных системах как NetBSD, Linux, Solaris, FreeBSD и др. Также,
paexec успешно применяется в компании Invention Machine для
распределенной обработки данных.
\end{document}
