\documentclass[10pt, a5paper]{article}
\input{preamble.tex}


\begin{document}

\title{Вольныя графічныя праграмы для апрацоўкі выяваў з падвышанай глыбінёй колеру}%\footnote{Текст данных и последующих тезисов, кроме специально оговоренных случаев, доступен под лицензией Creative Commons Attribution-ShareAlike 3.0}

\author{Антон Літвіненка\footnote{Кіеў, Украіна}}
\maketitle

 \begin{abstract}
  Deep color images (with more than 8 bits per channel) are supposed to be extremely useful in image processing (especially, photographic) due to better quality preservation, but are totally unsupported by GIMP. Brief overview of typical deep color processing situations are provided together with their solutions using ufraw, ImageMagick, nip2 and Luminance HDR programs.
 \end{abstract}

Фактычным стандартам у вобласці сучаснай кампутарнай графікі з'яўляецца выкарыстанне лічбавых выяваў <<True Color>>-якасці, якая прадугледжвае выкарыстанне 8 бітаў дадзеных для перадачы значэння кожнага канала для кожнага піксела выявы. Такая колькасць інфармацыі дазваляе перадаць 256 градацый значэння кожнага канала і, ў выпадку каляровае трохканальнае выявы --- больш за 16 мільёнаў адценняў, што цалкам дастаткова для стварэння ў чалавечаскага вока ўражання натуральнага колеру. Разам з тым, пад час апрацоўкі выяваў, асабліва фатаздымкаў, інфармацыі ў <<True Color>> здымку можа апынуцца замала для атрымання настолькі ж натуральнага выніку апрацоўкі (напрыклад, калі зыходная выява фактычна выкарыстоўвае толькі частку магчымага дыяпазону колераў (надта цемная, светлая ці проста малакантрастная)). У такіх выпадках выкарыстоўваюцца разнастайныя стандарты з падвышанай <<бітнасцю>> (глыбінёй колеру), якія змяшчаюць большую колькасць градацый адценняў. Гэтыя стандарты (якія аб'ядноўваюцца пад агульнай назвай <<Deep Color>>) можна падзяліць на наступныя групы:

\begin{enumerate}
 \item сямейства фарматаў RAW (12, 14, 22 біта на канал);
 \item 16-bit (48-bit) TIFF (16 бітаў на канал);
 \item сямейства фарматаў HDR (8, 16, 32 біта на канал).
\end{enumerate}
 
Агульнавядомай адносна ўніверсальнай вольнай праграмай для інтэрактыўнай апрацоўкі выяваў з'яўляецца GIMP. У той жа час, праз прынцыповыя абмежаванні ягонай існай архітэктуры падтрымкі deep color у ім няма і бліжэйшым часам не будзе. Праз тое даводзіцца карыстацца альбо праграмамі, адмыслова прызначанымі для пэўных аспектаў deep color апрацоўкі (ufraw, Luminance HDR), альбо прыстасоўваць праграмы, прызначаныя, ў прынцыпе, для іншых мэтаў (ImageMagick, nip2).

\section*{Апрацоўка RAW}

RAW --- вялікае нестандартызаванае сямейства фарматаў, прызначаных для захоўвання выяваў з лічбавых фотакамер з мінімальнай апрацоўкай працэсарам камеры. Дазваляе захаваць максімальную колькасць першаснай інфармацыі для ёйнай апрацоўкі па-за межамі сэансу фатаграфавання. Праз вялікую колькасць варыянтаў фармату, незваротнасць апрацоўкі (у RAW не захоўваюць пасля апрацоўкі), а таксама праз спецыфічныя аперацыі (баераўскі фільтр, накладанне балансу белага і г.д.) апрацоўка RAW выконваецца адмысловымі праграмамі альбо адмысловымі плагінамі. FLOSS-прыкладам з'яўляецца \textbf{ufraw}, які існуе як у выглядзе плагіна для GIMP, так і ў выглядзе асобнае праграмы (можа ствараць 48-бітныя TIFF-файлы для дадатковай апрацоўкі, калі гэта патрэбна). Праграма цалкам рэалізуе <<праяўленне>> RAW-выявы разам з шэрагам дадатковых спецыфічных для фотаздымкаў апрацовак (карэкцыя неідэальнасці лінзаў, застасаванне <<чорнага кадру>> (карэкцыя бітых пікселаў), вэйвлетнае падаўленне шумоў і г.д.).

Зручна паядноўваць выкарыстанне ufraw з выкарыстаннем праграмаў, здольных да хуткага папярэдняга прагляду RAW.

Іншыя варыянты: \textbf{darktable}, \textbf{rawstudio}.

%http://summer.lvee.org/uploads/abstract_file/file/30/LAS_LVEE_2012_RAW.jpg
\begin{figure}[htpb]
 \includegraphics[width=110mm]{LAS_LVEE_2012_RAW.jpg}
 \caption{RAW-файл у вакне праграмы ufraw}
 \label{fig:RAW}
\end{figure}

\section*{Апрацоўка HDR}

HDR-выявы таксама з'ўляюцца спецыфічным выпадкам deep color выяваў, галоўная мэта якога --- перадаць вялікі дынамічны дыяпазон адлюстраванае сцэны. Стварэнне такіх выяваў ускладненае абмежаванасцю:
\begin{enumerate}
 \item  Фатаапаратаў (замалы дынамічны дыяпазон сенсара);
\item  Фарматаў захоўвання (могуць змяшчаць замалы дынамічны дыяпазон);
\item  Тэхнікі для адлюстравання (дысплей, фотапапера).
\end{enumerate}
Рашэнне --- застасаванне спецыфічных спосабаў на ўсіх этапах апрацоўкі:
\begin{enumerate}
\item  Стварэнне: аб'яднанне некалькіх LDR выяваў;
\item  Захоўванне: адмысловыя фарматы;
\item  Адлюстраванне: пераўтварэнне ў LDR выяву асаблівымі адаптыўнымі алгарытмамі (tonemapping).
\end{enumerate}

Прыклад FLOSS-праграмы: \textbf{Luminance HDR}.

Магчыма захаванне 48-бітнай выявы і далейшая апрацоўка (рэзультат працы tonemapping-алгарытмаў не заўсёды аптымальны, і часам мэтазгодна застасаваць далейшую карэкцыю).

%!http://summer.lvee.org/uploads/abstract_file/file/29/LAS_LVEE_2012_HDR.jpg!
\begin{figure}[htpb]
 \includegraphics[width=110mm]{LAS_LVEE_2012_HDR.jpg}
 \caption{Тры зыходных выявы і вынік іх аб'яднання (алгарытм Reinhard'05)}
 \label{fig:HDR}
\end{figure}

\section*{Рэдагаванне <<класічных>> 48-бітных выяваў}

Аб'екты:
\begin{enumerate}
\item сканаваныя плёнкі;
\item фатаздымкі у фармаце 48-bit TIFF;
\item фатаздымкі пасля папярэдняй RAW- ці HDR-апрацоўкі.
\end{enumerate}
Тыповыя задачы:
\begin{enumerate}
\item Змена баланса белага (паканальная змена яркасці);
\item Рэдагаванне яркасці/кантрасту праз узроўні і гамму (чорны, белы, шэры пункты);
\item Рэдагаванне яркасці/кантрасту праз іншыя функцыі (напрыклад, сігмаідальны кантраст).
\end{enumerate}
Усе задачы зводзяцца да пэўных аперацыяў з колерам (застасаванне пэўных функцыяў да значэнняў ўсіх пікселаў выявы). Геаметрычныя аперацыі мэтазгодна рабіць з канчатковай True Color выявай.

\textbf{ImageMagick} --- праграма для пакетнай апрацоўкі выяваў.

Прыклад застасавання для апрацоўкі сканаванае выявы (рыс.~\ref{fig:IM}):
convert 1.tif -channel blue -gamma 0.95 2.tif
convert 2.tif -level 5\%,100\%,1.2 3.tif
convert 2.tif -sigmoidal-contrast 2.5,35\% 4.tif

%http://summer.lvee.org/uploads/abstract_file/file/31/LAS_LVEE_2012_48bit.jpg
\begin{figure}[htpb]
 \includegraphics[width=110mm]{LAS_LVEE_2012_48bit.jpg}
 \caption{Паслядоўная апрацоўка выявы з дапамогай ImageMagick}
 \label{fig:IM}
\end{figure}

\textbf{Nip2} --- праграма, аптымізаваная для апрацоўкі вялікіх выяваў. Прынцып працы нагадвае электронную табліцу (задаецца паслядоўнасць фільтраў, каторыя застасоўваюцца да пікселяў, рыс.~\ref{fig:nip2}).

Выкарыстанне абодвух праграмаў павязанае са зменай звычнага стылю рэдагавання выяваў і патрабуе некаторага звыкання.

\begin{figure}[htpb]
 \includegraphics[width=110mm]{LAS_LVEE_2012_nip2.jpg}
 \caption{Апрацоўка выявы ў вакне праграмы nip2}
 \label{fig:nip2}
\end{figure}

Такім чынам, выкарыстанне выяваў з падвышанай глыбінёй колеру з'яўляецца важлівым для пытанняў апрацоўкі выяваў, асабліва фатаздымкаў. Нягледзячы на наяўныя праблемы з падтрымкай deep color выяваў інтэрактыўных рэдактарах тыпу GIMP, атрымліваецца застасаваць іншыя праграмы, пачаткова не прызначаныя для гэтае мэты (хаця гэты працэс патрабуе некаторага звыкання да іх асаблівасцяў).
\end{document}

